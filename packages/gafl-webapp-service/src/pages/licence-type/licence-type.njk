{% extends "layout.njk" %}

{% from "fieldset/macro.njk" import govukFieldset %}
{% from "button/macro.njk" import govukButton %}
{% from "radios/macro.njk" import govukRadios %}
{% from "error-summary.njk" import errorSummary %}

{% set title = 'Which type of fishing licence do you want to get?' %}

{% block pageTitle %}{{ title }} - GOV.UK{% endblock %}

{%
    set errorMap = {
        'licence-type': {
            'any.required': { ref: '#licence-type', text: 'You did not tell us which type of licence you want' }
        }
    }
%}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        {{ errorSummary(error, errorMap) }}

        <form method="post">

            {% call govukFieldset({
              legend: {
                text: title,
                classes: "govuk-fieldset__legend--m",
                isPageHeading: true
              }
            }) %}

                {{ govukRadios({
                    idPrefix: "licence-type",
                    name: "licence-type",
                    items: [
                        {
                            text: "Trout and coarse",
                            value: "trout-and-coarse",
                            checked: payload['licence-type'] === 'trout-and-coarse'
                        },
                        {
                            text: "Salmon and sea trout",
                            value: "salmon-and-sea-trout",
                            hint: { text: "includes trout and coarse" },
                            checked: payload['licence-type'] === 'salmon-and-sea-trout'
                        }
                    ],
                    errorMessage: { text: 'Tell us which type of fishing licence you want' } if error
                }) }}

                {{ govukButton({
                    name: "continue",
                    text: "Continue"
                }) }}

            {% endcall %}
        </form>
    </div>
</div>
{% endblock %}