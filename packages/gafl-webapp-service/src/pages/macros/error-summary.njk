{% from "error-summary/macro.njk" import govukErrorSummary %}

{% macro errorSummary(error, errorMap) %}
    {% if error %}

        {% set errList = [] %}

        {# TODO Find better way to suppress output or hide using css #}
        <div style="display:none">
            {% for field, type in error %}
                {{ errList.push({
                    text: errorMap[field][type].text,
                    href: errorMap[field][type].ref
                }) }}
            {% endfor %}
        </div>

        {{ govukErrorSummary({
            titleText: "There is a problem",
            errorList: errList
        }) }}

    {% endif %}
{% endmacro %}
