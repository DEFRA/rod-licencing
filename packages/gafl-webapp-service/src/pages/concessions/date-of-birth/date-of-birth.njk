{% extends "standard-form.njk" %}

{% from "date-input/macro.njk" import govukDateInput %}
{% set title = 'What age is the license holder?' %}

{%
    set errorMap = {
        'date-of-birth': {
            'date.format': { ref: '#date-of-birth-day', text: 'Enter your date of birth and include a day, month and year' },
            'date.max': { ref: '#date-of-birth-day', text: 'Your date of birth must be in the past' },
            'date.min': { ref: '#date-of-birth-day', text: 'Your date of birth is too long ago' }
        }
    }
%}

{% set dateInputItems = [
    {
      name: "day",
      classes: "govuk-input--width-2",
      value: payload['date-of-birth-day']
    },
    {
      name: "month",
      classes: "govuk-input--width-2",
      value: payload['date-of-birth-month']
    },
    {
      name: "year",
      classes: "govuk-input--width-4",
      value: payload['date-of-birth-year']
    }
  ]
%}

{% block pageContent %}
    <p class="govuk-caption-m">What is their date of birth?</p>

    {{ govukDateInput({
      id: "date-of-birth",
      namePrefix: "date-of-birth",
      items: dateInputItems,
      errorMessage: { text: 'Enter your date of birth' } if error,
      hint: {
        text: "For example, 22 11 1970"
      }
    }) }}

    <p class="govuk-body-m">When you buy a fishing licence, you will need to give us some personal data such as the name, address and date of birth of the licence holder.</p>
    <div class="govuk-body-m">Read about <a href="{{ _uri.privacy }}">how we use your personal information</a>.</div>

{% endblock %}