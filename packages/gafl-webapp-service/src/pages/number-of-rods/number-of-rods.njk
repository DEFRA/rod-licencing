{% extends "layout.njk" %}

{% from "fieldset/macro.njk" import govukFieldset %}
{% from "button/macro.njk" import govukButton %}
{% from "radios/macro.njk" import govukRadios %}
{% from "error-summary.njk" import errorSummary %}

{% set title = 'How many rods would you like to licence?' %}

{% block pageTitle %}{{ title }} - GOV.UK{% endblock %}

{%
    set errorMap = {
        'number-of-rods': {
            'any.required': { ref: '#number-of-rods', text: 'You did not tell us how many rods would you like to licence?' }
        }
    }
%}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        {{ errorSummary(error, errorMap) }}

        <form method="post">

            {% call govukFieldset({
              legend: {
                text: title,
                classes: "govuk-fieldset__legend--m",
                isPageHeading: true
              }
            }) %}

                {{ govukRadios({
                    idPrefix: "number-of-rods",
                    name: "number-of-rods",
                    items: [
                        {
                            text: "Up to 2 rods",
                            value: "2",
                            checked: payload['number-of-rods'] === '2'
                        },
                        {
                            text: "Up to 3 rods",
                            value: "3",
                            checked: payload['number-of-rods'] === '3'
                        }
                    ],
                    errorMessage: { text: 'Choose the number of rods' } if error
                }) }}

                {{ govukButton({
                    name: "continue",
                    text: "Continue"
                }) }}

            {% endcall %}
        </form>
    </div>
</div>
{% endblock %}