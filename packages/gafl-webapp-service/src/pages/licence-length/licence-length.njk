{% extends "layout.njk" %}

{% from "fieldset/macro.njk" import govukFieldset %}
{% from "button/macro.njk" import govukButton %}
{% from "radios/macro.njk" import govukRadios %}
{% from "error-summary.njk" import errorSummary %}

{% set title = 'Which fishing licence do you want to get?' %}

{% block pageTitle %}{{ title }} - GOV.UK{% endblock %}

{%
    set errorMap = {
        'licence-length': {
            'any.required': { ref: '#licence-length', text: 'You did not tell us which licence you want' }
        }
    }
%}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        {{ errorSummary(error, errorMap) }}

        <form method="post">

            {% call govukFieldset({
              legend: {
                text: title,
                classes: "govuk-fieldset__legend--m",
                isPageHeading: true
              }
            }) %}

                {{ govukRadios({
                    idPrefix: "licence-length",
                    name: "licence-length",
                    items: [
                        {
                            text: "12 months",
                            value: "12M",
                            checked: payload['licence-length'] === '12M'
                        },
                        {
                            text: "8 Days",
                            value: "8D",
                            checked: payload['licence-length'] === '8D'
                        },
                        {
                            text: "1 Day",
                            value: "1D",
                            checked: payload['licence-length'] === '1D'
                        }
                    ],
                    errorMessage: { text: 'Tell us which fishing licence you want' } if error
                }) }}

                {{ govukButton({
                    name: "continue",
                    text: "Continue"
                }) }}

            {% endcall %}
        </form>
    </div>
</div>
{% endblock %}